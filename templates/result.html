<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plotify</title>
    <style> 
        body { 
            background: #000; 
        } 
        h1{
            color: aliceblue;
            font-family: Helvetica, sans-serif;
        }
        h2 { 
            
            
            font-size: 100px; 
            /* font-family: Arial, Helvetica, sans-serif; 
            background: linear-gradient(to right, #f32170, 
                    #ff6b08, #cf23cf);  */
            -webkit-text-fill-color: transparent; 
            -webkit-background-clip: text; 
        } 
    </style> 
    <link rel="stylesheet" href="static/css/main.css">
</head>
<body>
    <h1 class="plotify">Plotify</h1>
    <div class="container">
        
        <a class="stat-box" id="box1" style="background-image: url({{imgurl1}});" href="{{ url_for('artist_page') }}">
            <p>Your all-time top artist is</p>
            <h2 class="singer">{{topsing}}</h2>
            <audio id="topart" src="{{songurl1}}"></audio>

            <script>
                var audio1 = document.getElementById("topart");
                var box4 = document.getElementById("box1");
                var fadeInterval;

                function fadeIn() {
                    clearInterval(fadeInterval);
                    audio1.volume = 0; 
                    audio1.play();
                    
                    fadeInterval = setInterval(() => {
                        if (audio1.volume < 1) {
                        audio1.volume = Math.min(audio1.volume + 0.05, 1); 
                        } else {
                        clearInterval(fadeInterval);
                        }
                    }, 50); 
                    }

               
                function fadeOut() {
                    clearInterval(fadeInterval);

                    fadeInterval = setInterval(() => {
                        if (audio1.volume > 0) {
                        audio1.volume = Math.max(audio1.volume - 0.05, 0); 
                        } else {
                        clearInterval(fadeInterval);
                        audio1.pause();
                        }
                    }, 50); 
                    }
              
                box1.addEventListener('mouseover', fadeIn);
                box1.addEventListener('mouseout', fadeOut);
            </script>
        </a>
        <!-- </div> -->
        <div class="stat-box" style="background-image: url('/static/images/music.jpg');">
            <p>You've listened to</p>
            <h2 class="hours">{{totalh}}</h2>
            <p>of music.</p>
            
        </div>
        <div class="stat-box" style="background-image: url('/static/images/{{tod}}.webp');">
            <h2 class="tod">{{tod}}</h2>
            
        </div>
        <div class="stat-box" id="box4" style="background-image: url({{imgurl}});">
            <p>Your most listened song is</p>
            <h2 class="singer">{{topso}}</h2>
            <p>by {{arti}}</p>
            <audio id="topsong" src="{{songurl}}"></audio>
            <script>
                var audio = document.getElementById("topsong");
                var box4 = document.getElementById("box4");
                var fadeInterval;

                function fadeIn() {
                    clearInterval(fadeInterval);
                    audio.volume = 0; 
                    audio.play();
                    
                    fadeInterval = setInterval(() => {
                        if (audio.volume < 1) {
                        audio.volume = Math.min(audio.volume + 0.05, 1); 
                        } else {
                        clearInterval(fadeInterval);
                        }
                    }, 50); 
                    }

               
                function fadeOut() {
                    clearInterval(fadeInterval);

                    fadeInterval = setInterval(() => {
                        if (audio.volume > 0) {
                        audio.volume = Math.max(audio.volume - 0.05, 0); 
                        } else {
                        clearInterval(fadeInterval);
                        audio.pause();
                        }
                    }, 50); 
                    }
              
                box4.addEventListener('mouseover', fadeIn);
                box4.addEventListener('mouseout', fadeOut);
            </script>
        </div>
    </div>
    <p>Click a box to get more insights</p>
</body>
</html>
